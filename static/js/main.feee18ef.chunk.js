(this.webpackJsonpsocnetwork=this.webpackJsonpsocnetwork||[]).push([[1],{10:function(t,e,n){t.exports={center:"Center_center__2vapN",search:"Center_search__jSCYI",empty:"Center_empty__1cYfT",users:"Center_users__auL43",profile:"Center_profile__2O-12",dialogs:"Center_dialogs__1A2JF",feed:"Center_feed__1VS6h",settings:"Center_settings__1Nr8B",colum:"Center_colum__2l129",avatarname:"Center_avatarname__1WSpH",bottom:"Center_bottom__SKhJq"}},12:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return o}));var a=n(85),r=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d683f2e5-a7af-46f3-9fb7-3906f227c671"}}),c={getUsers:function(t,e){return r.get("users?page=".concat(t,"&count=").concat(e)).then((function(t){return t.data}))},follow:function(t){return r.post("follow/".concat(t))},unfollow:function(t){return r.delete("follow/".concat(t))}},s={getProfile:function(t){return r.get("profile/".concat(t))},getStatus:function(t){return r.get("profile/status/".concat(t))},updateStatus:function(t){return r.put("profile/status",{status:t})},savePhoto:function(t){var e=new FormData;return e.append("image",t),r.put("profile/photo",e,{headers:{"Content-Type":"multipart/form-data"}})}},o={me:function(){return r.get("auth/me")},login:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:t,password:e,rememberMe:n})},logout:function(){return r.delete("auth/login")}}},223:function(t,e,n){},226:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(47),s=n.n(c),o=n(17),i=n(25),u=n(24),l=n(61),f=n(76),d=n(84),b=n(28),O=n(86),p=n(83),j=n(6),h=n.n(j),g=n(9),m=n(3),_=function(t){return{type:"APP/SET-INITIALIZED",isInitialized:t}},S={initialized:!1},E=Object(u.c)({profilePage:l.b,dialogsPage:f.b,usersPage:d.a,auth:b.a,app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/SET-INITIALIZED":return Object(m.a)(Object(m.a)({},t),{},{initialized:e.isInitialized});default:return t}},form:p.a}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,x=Object(u.e)(E,v(Object(u.a)(O.a))),w=x;window.store=x;n(223);var T=n(43),P=n(44),R=n(46),D=n(45),L=n.p+"static/media/logo.9a7b0c0d.png",I=n(10),A=n.n(I),C=n(55),y=n.n(C),F=n(2),N=function(t){return Object(F.jsx)("div",{children:t.isAuth?Object(F.jsx)("div",{onClick:t.logout,className:y.a.bottom,children:t.id}):Object(F.jsx)(o.b,{to:"/login",className:y.a.bottom,children:"Login"})})},k={logout:b.d},U=function(t){Object(R.a)(n,t);var e=Object(D.a)(n);function n(){return Object(T.a)(this,n),e.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){return Object(F.jsx)(N,{id:this.props.id,isAuth:this.props.isAuth,logout:this.props.logout})}}]),n}(r.a.Component),G=Object(i.b)((function(t){return{id:t.auth.userId,isAuth:t.auth.isAuth}}),k)(U),M=function(){return Object(F.jsx)("nav",{children:Object(F.jsxs)("div",{className:A.a.center,children:[Object(F.jsx)("img",{src:L}),Object(F.jsx)("a",{className:A.a.search,children:"Search"}),Object(F.jsx)("a",{className:A.a.empty,children:" "}),Object(F.jsx)(o.b,{to:"/users",className:"".concat(A.a.users," ").concat(A.a.bottom),children:"Users"}),Object(F.jsx)(o.b,{to:"/profile",className:"".concat(A.a.profile," ").concat(A.a.bottom),children:"Profile"}),Object(F.jsx)(o.b,{to:"/dialogs",className:"".concat(A.a.dialogs," ").concat(A.a.bottom),children:"Dialogs"}),Object(F.jsx)(o.b,{to:"/feed",className:"".concat(A.a.feed," ").concat(A.a.bottom),children:"Feed"}),Object(F.jsx)(o.b,{to:"/settings",className:"".concat(A.a.settings," ").concat(A.a.bottom),children:"Settings"}),Object(F.jsx)("a",{className:A.a.colum,children:" "}),Object(F.jsx)(G,{})]})})},H=n(48),z=n.n(H),W=function(){return Object(F.jsxs)("div",{className:z.a.head_wrap,children:[Object(F.jsx)("div",{className:z.a.left}),Object(F.jsx)(M,{}),Object(F.jsx)("div",{className:z.a.right})]})},J=n(7),K=n(34),V=n.n(K),Y=n(88),X=n.n(Y),B=function(){return Object(F.jsx)("div",{className:X.a.footer,children:"Footer;"})},q=function(t){return function(e){return Object(F.jsx)(r.a.Suspense,{fallback:Object(F.jsx)("div",{children:"Loading..."}),children:Object(F.jsx)(t,Object(m.a)({},e))})}},Z=r.a.lazy((function(){return n.e(7).then(n.bind(null,303))})),Q=r.a.lazy((function(){return n.e(9).then(n.bind(null,307))})),$=r.a.lazy((function(){return n.e(8).then(n.bind(null,304))})),tt=r.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,305))})),et=r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,306))})),nt=r.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,302))})),at=function(){return Object(F.jsxs)("div",{className:V.a.content_wrap,children:[Object(F.jsxs)("div",{className:V.a.top_left,children:[Object(F.jsx)(J.b,{path:"/profile/:userId?",render:q(Z)}),Object(F.jsx)(J.b,{path:"/dialogs",render:q(Q)})]}),Object(F.jsxs)("div",{className:V.a.top_center,children:[Object(F.jsx)(J.b,{path:"/profile",render:q(et)}),Object(F.jsx)(J.b,{path:"/dialogs",render:q(tt)}),Object(F.jsx)(J.b,{path:"/users",render:q($)}),Object(F.jsx)(J.b,{path:"/login",render:q(nt)})]}),Object(F.jsx)("div",{className:V.a.bottom_left,children:Object(F.jsx)(B,{})})]})},rt=n(66),ct={initializeTC:function(t){return function(){var e=Object(g.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Object(b.b)());case 2:n(_(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},st=function(t){Object(R.a)(n,t);var e=Object(D.a)(n);function n(){return Object(T.a)(this,n),e.apply(this,arguments)}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeTC(!0)}},{key:"render",value:function(){return this.props.initialized?Object(F.jsxs)("div",{children:[Object(F.jsx)(W,{}),Object(F.jsx)(at,{})]}):Object(F.jsx)(rt.a,{})}}]),n}(r.a.Component),ot=Object(u.d)(Object(i.b)((function(t){return{initialized:t.app.initialized}}),ct))(st);s.a.render(Object(F.jsx)(o.a,{basename:"/socnetwork",children:Object(F.jsx)(i.a,{store:w,children:Object(F.jsx)(ot,{})})}),document.getElementById("root"))},28:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return b}));var a=n(6),r=n.n(a),c=n(9),s=n(3),o=n(35),i=n(12),u=function(t,e,n,a){return{type:"AUTH/SET_USER_DATA",payload:{userId:t,login:e,email:n,isAuth:a}}},l={userId:void 0,login:null,email:null,isAuth:!1,isFetching:!1},f=function(){return function(){var t=Object(c.a)(r.a.mark((function t(e){var n,a,c,s,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.me();case 2:0===(n=t.sent).data.resultCode&&(a=n.data.data,c=a.id,s=a.login,o=a.email,e(u(c,s,o,!0)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},d=function(t,e,n){return function(){var a=Object(c.a)(r.a.mark((function a(c){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.login(t,e,n);case 2:0===(s=a.sent).data.resultCode?c(f()):s.data.messages.length>0?c(Object(o.a)("login",{_error:s.data.messages[0]})):c(Object(o.a)("login",{_error:"some error"}));case 4:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},b=function(){return function(){var t=Object(c.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.logout();case 2:0===t.sent.data.resultCode&&e(u(void 0,null,null,!1));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"AUTH/SET_USER_DATA":return Object(s.a)(Object(s.a)({},t),e.payload);default:return t}}},34:function(t,e,n){t.exports={content_wrap:"Content_content_wrap__Kn6n2",top_left:"Content_top_left__2uuqt",bottom_left:"Content_bottom_left__3GXsW",top_center:"Content_top_center__2N_jg"}},48:function(t,e,n){t.exports={head_wrap:"Header_head_wrap__km_0R",left:"Header_left__hL2OA",right:"Header_right__2SPzi"}},55:function(t,e,n){t.exports={settings:"LoginBlock_settings__3c8fJ",bottom:"LoginBlock_bottom__1VoOl"}},58:function(t,e,n){t.exports={main:"Preloader_main__3AVYK",preloader:"Preloader_preloader__3Y4Gy"}},61:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"d",(function(){return O})),n.d(e,"c",(function(){return p})),n.d(e,"f",(function(){return j})),n.d(e,"e",(function(){return h}));var a=n(6),r=n.n(a),c=n(9),s=n(22),o=n(3),i=n(8),u=n(12),l=function(t){return{type:"PROFILE/ADD-POST-FORM",newPostText:t}},f=function(t){return{type:"PROFILE/SET-STATUS",status:t}},d=function(t){return{type:"PROFILE/TOGGLE-IS-FETCHING",isFetching:t}},b={postsData:[{id:Object(i.a)(),name:"VALERA",post:"HERLfdE",likesCount:43},{id:Object(i.a)(),name:"Dimon",post:"HERdsfLfdE",likesCount:421},{id:Object(i.a)(),name:"Kukareku",post:"HEfsdfRLfdE",likesCount:13},{id:Object(i.a)(),name:"Stop",post:"qweHERLfdE",likesCount:5}],newPostText:"",profile:{aboutMe:"aboutMe",contacts:{facebook:"facebook",website:"website",vk:"vk",twitter:"twitter",instagram:"instagram",youtube:"youtube",github:"github",mainLink:"mainLink"},lookingForAJob:!0,lookingForAJobDescription:"lookingForAJobDescription",fullName:"fullName",userId:0,photos:{small:"https://social-network.samuraijs.com/activecontent/images/users/2/user-small.jpg?v=0",large:"https://social-network.samuraijs.com/activecontent/images/users/2/user.jpg?v=0"}},isFetching:!1,status:""},O=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(d(!0)),e.next=3,u.b.getProfile(t);case 3:a=e.sent,n(d(!1)),n({type:"PROFILE/SET-USER-PROFILE",profile:a.data});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.getStatus(t);case 2:a=e.sent,n(f(a.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(t,e){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.b.updateStatus(e);case 2:if(0!==n.sent.data.resultCode){n.next=8;break}return n.next=6,u.b.getStatus(t);case 6:c=n.sent,a(f(c.data));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.savePhoto(t);case 2:0===(a=e.sent).data.resultCode&&n({type:"PROFILE/SET-PHOTO-SUCCESS",photos:a.data.data.photos});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PROFILE/ADD-POST":var n={id:Object(i.a)(),name:"name",post:t.newPostText,likesCount:0};return Object(o.a)(Object(o.a)({},t),{},{postsData:[].concat(Object(s.a)(t.postsData),[n]),newPostText:""});case"PROFILE/ADD-POST-FORM":var a={id:Object(i.a)(),name:"name",post:e.newPostText,likesCount:0};return Object(o.a)(Object(o.a)({},t),{},{postsData:[].concat(Object(s.a)(t.postsData),[a]),newPostText:""});case"PROFILE/UPDATE-NEW-POST-TEXT":return Object(o.a)(Object(o.a)({},t),{},{newPostText:e.newText});case"PROFILE/SET-USER-PROFILE":return Object(o.a)(Object(o.a)({},t),{},{profile:e.profile});case"PROFILE/TOGGLE-IS-FETCHING":return Object(o.a)(Object(o.a)({},t),{},{isFetching:e.isFetching});case"PROFILE/SET-STATUS":return Object(o.a)(Object(o.a)({},t),{},{status:e.status});case"PROFILE/DELETE-POST":return Object(o.a)(Object(o.a)({},t),{},{postsData:t.postsData.filter((function(t){return t.id!=e.id}))});case"PROFILE/SET-PHOTO-SUCCESS":return Object(o.a)(Object(o.a)({},t),{},{profile:Object(o.a)(Object(o.a)({},t.profile),{},{photos:e.photos})});default:return t}}},66:function(t,e,n){"use strict";n(0);var a=n.p+"static/media/preloaderNew.64bed448.svg",r=n(58),c=n.n(r),s=n(2);e.a=function(){return Object(s.jsx)("div",{className:c.a.main,children:Object(s.jsx)("img",{src:a,className:c.a.preloader,alt:"preloaderNew"})})}},76:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(22),r=n(3),c=n(8),s=function(t){return{type:"DIALOGS/ADD-MESSAGE-FORM",newMessageText:t}},o={dialogsData:[{id:Object(c.a)(),name:"Dima"},{id:Object(c.a)(),name:"Masha"},{id:Object(c.a)(),name:"Pasha"},{id:Object(c.a)(),name:"Dasha"},{id:Object(c.a)(),name:"Sveta"},{id:Object(c.a)(),name:"SANEK12"}],messagesData:[{id:Object(c.a)(),message:"HERLE1"},{id:Object(c.a)(),message:"MASHA"},{id:Object(c.a)(),message:"VALERCHI PRIYOM"},{id:Object(c.a)(),message:"SUCHARA"},{id:Object(c.a)(),message:"fdsfdf5435s erwtgaa"},{id:Object(c.a)(),message:"eFGSGA DSFDSGA"}],newMessageText:""};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"DIALOGS/ADD-MESSAGE":var n={id:Object(c.a)(),message:t.newMessageText};return Object(r.a)(Object(r.a)({},t),{},{messagesData:[].concat(Object(a.a)(t.messagesData),[n]),newMessageText:""});case"DIALOGS/ADD-MESSAGE-FORM":var s={id:Object(c.a)(),message:e.newMessageText};return Object(r.a)(Object(r.a)({},t),{},{messagesData:[].concat(Object(a.a)(t.messagesData),[s]),newMessageText:""});case"DIALOGS/UPDATE-NEW-MESSAGE-TEXT":return Object(r.a)(Object(r.a)({},t),{},{newMessageText:e.newText});default:return t}}},84:function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return j})),n.d(e,"e",(function(){return g})),n.d(e,"b",(function(){return m}));var a=n(6),r=n.n(a),c=n(9),s=n(22),o=n(3),i=n(12),u=function(t,e,n,a){return t.map((function(t){return t[n]===e?Object(o.a)(Object(o.a)({},t),a):t}))},l=function(t){return{type:"USERS/FOLLOW",userID:t}},f=function(t){return{type:"USERS/UNFOLLOW",userID:t}},d=function(t){return{type:"USERS/SET_CURRENT_PAGE",currentPage:t}},b=function(t){return{type:"USERS/TOGGLE_IS_FETCHING",isFetching:t}},O=function(t,e){return{type:"USERS/TOGGLE_FOLLOWING_PROGRESS",followingProgress:t,userId:e}},p={usersData:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingProgress:[]},j=function(t,e){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(b(!0)),n.next=3,i.c.getUsers(t,e);case 3:c=n.sent,a(b(!1)),a({type:"USERS/SET_USERS",usersData:c.items}),a({type:"USERS/SET_TOTAL_USERS_COUNT",totalUsersCount:c.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},h=function(){var t=Object(c.a)(r.a.mark((function t(e,n,a,c){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(O(!0,n)),t.next=3,a(n);case 3:0===t.sent.data.resultCode&&e(c(n)),e(O(!1,n));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),g=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(n,t,i.c.unfollow.bind(t),f);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(t){return function(){var e=Object(c.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(n,t,i.c.follow.bind(t),l);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"USERS/FOLLOW":return Object(o.a)(Object(o.a)({},t),{},{usersData:u(t.usersData,e.userID,"id",{followed:!0})});case"USERS/UNFOLLOW":return Object(o.a)(Object(o.a)({},t),{},{usersData:u(t.usersData,e.userID,"id",{followed:!1})});case"USERS/SET_USERS":return Object(o.a)(Object(o.a)({},t),{},{usersData:e.usersData});case"USERS/SET_CURRENT_PAGE":return Object(o.a)(Object(o.a)({},t),{},{currentPage:e.currentPage});case"USERS/SET_TOTAL_USERS_COUNT":return Object(o.a)(Object(o.a)({},t),{},{totalUsersCount:e.totalUsersCount});case"USERS/TOGGLE_IS_FETCHING":return Object(o.a)(Object(o.a)({},t),{},{isFetching:e.isFetching});case"USERS/TOGGLE_FOLLOWING_PROGRESS":return Object(o.a)(Object(o.a)({},t),{},{followingProgress:e.followingProgress?[].concat(Object(s.a)(t.followingProgress),[e.userId]):t.followingProgress.filter((function(t){return t!=e.userId}))});default:return t}}},88:function(t,e,n){t.exports={footer:"Footer_footer__3e76Q"}}},[[226,2,3]]]);
//# sourceMappingURL=main.feee18ef.chunk.js.map