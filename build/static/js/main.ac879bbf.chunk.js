(this.webpackJsonpsocnetwork=this.webpackJsonpsocnetwork||[]).push([[1],{10:function(e,t,n){e.exports={center:"Center_center__2vapN",search:"Center_search__jSCYI",empty:"Center_empty__1cYfT",users:"Center_users__auL43",profile:"Center_profile__2O-12",dialogs:"Center_dialogs__1A2JF",feed:"Center_feed__1VS6h",settings:"Center_settings__1Nr8B",colum:"Center_colum__2l129",avatarname:"Center_avatarname__1WSpH",bottom:"Center_bottom__SKhJq"}},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var a=n(85),r=n.n(a).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"d683f2e5-a7af-46f3-9fb7-3906f227c671"}}),c={getUsers:function(e,t){return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},s={getProfile:function(e){return r.get("profile/".concat(e))},getStatus:function(e){return r.get("profile/status/".concat(e))},updateStatus:function(e){return r.put("profile/status",{status:e})}},o={me:function(){return r.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("auth/login")}}},223:function(e,t,n){},226:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(47),s=n.n(c),o=n(17),i=n(25),u=n(24),l=n(61),f=n(76),d=n(84),b=n(28),O=n(86),j=n(83),p=n(6),h=n.n(p),g=n(9),m=n(3),_=function(e){return{type:"APP/SET-INITIALIZED",isInitialized:e}},S={initialized:!1},E=Object(u.c)({profilePage:l.b,dialogsPage:f.b,usersPage:d.a,auth:b.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-INITIALIZED":return Object(m.a)(Object(m.a)({},e),{},{initialized:t.isInitialized});default:return e}},form:j.a}),v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,x=Object(u.e)(E,v(Object(u.a)(O.a))),w=x;window.store=x;n(223);var T=n(43),P=n(44),D=n(46),R=n(45),L=n.p+"static/media/logo.9a7b0c0d.png",A=n(10),I=n.n(A),y=n(55),C=n.n(y),N=n(2),F=function(e){return Object(N.jsx)("div",{children:e.isAuth?Object(N.jsx)("div",{onClick:e.logout,className:C.a.bottom,children:e.id}):Object(N.jsx)(o.b,{to:"/login",className:C.a.bottom,children:"Login"})})},U={logout:b.d},k=function(e){Object(D.a)(n,e);var t=Object(R.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"render",value:function(){return Object(N.jsx)(F,{id:this.props.id,isAuth:this.props.isAuth,logout:this.props.logout})}}]),n}(r.a.Component),G=Object(i.b)((function(e){return{id:e.auth.userId,isAuth:e.auth.isAuth}}),U)(k),M=function(){return Object(N.jsx)("nav",{children:Object(N.jsxs)("div",{className:I.a.center,children:[Object(N.jsx)("img",{src:L}),Object(N.jsx)("a",{className:I.a.search,children:"Search"}),Object(N.jsx)("a",{className:I.a.empty,children:" "}),Object(N.jsx)(o.b,{to:"/users",className:"".concat(I.a.users," ").concat(I.a.bottom),children:"Users"}),Object(N.jsx)(o.b,{to:"/profile",className:"".concat(I.a.profile," ").concat(I.a.bottom),children:"Profile"}),Object(N.jsx)(o.b,{to:"/dialogs",className:"".concat(I.a.dialogs," ").concat(I.a.bottom),children:"Dialogs"}),Object(N.jsx)(o.b,{to:"/feed",className:"".concat(I.a.feed," ").concat(I.a.bottom),children:"Feed"}),Object(N.jsx)(o.b,{to:"/settings",className:"".concat(I.a.settings," ").concat(I.a.bottom),children:"Settings"}),Object(N.jsx)("a",{className:I.a.colum,children:" "}),Object(N.jsx)(G,{})]})})},H=n(48),z=n.n(H),W=function(){return Object(N.jsxs)("div",{className:z.a.head_wrap,children:[Object(N.jsx)("div",{className:z.a.left}),Object(N.jsx)(M,{}),Object(N.jsx)("div",{className:z.a.right})]})},J=n(7),K=n(34),V=n.n(K),Y=n(88),X=n.n(Y),B=function(){return Object(N.jsx)("div",{className:X.a.footer,children:"Footer;"})},q=function(e){return function(t){return Object(N.jsx)(r.a.Suspense,{fallback:Object(N.jsx)("div",{children:"Loading..."}),children:Object(N.jsx)(e,Object(m.a)({},t))})}},Z=r.a.lazy((function(){return n.e(7).then(n.bind(null,303))})),Q=r.a.lazy((function(){return n.e(9).then(n.bind(null,307))})),$=r.a.lazy((function(){return n.e(8).then(n.bind(null,304))})),ee=r.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,305))})),te=r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,306))})),ne=r.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,302))})),ae=function(){return Object(N.jsxs)("div",{className:V.a.content_wrap,children:[Object(N.jsxs)("div",{className:V.a.top_left,children:[Object(N.jsx)(J.b,{path:"/profile/:userId?",render:q(Z)}),Object(N.jsx)(J.b,{path:"/dialogs",render:q(Q)})]}),Object(N.jsxs)("div",{className:V.a.top_center,children:[Object(N.jsx)(J.b,{path:"/profile",render:q(te)}),Object(N.jsx)(J.b,{path:"/dialogs",render:q(ee)}),Object(N.jsx)(J.b,{path:"/users",render:q($)}),Object(N.jsx)(J.b,{path:"/login",render:q(ne)})]}),Object(N.jsx)("div",{className:V.a.bottom_left,children:Object(N.jsx)(B,{})})]})},re=n(66),ce={initializeTC:function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Object(b.b)());case 2:n(_(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},se=function(e){Object(D.a)(n,e);var t=Object(R.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(P.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeTC(!0)}},{key:"render",value:function(){return this.props.initialized?Object(N.jsxs)("div",{children:[Object(N.jsx)(W,{}),Object(N.jsx)(ae,{})]}):Object(N.jsx)(re.a,{})}}]),n}(r.a.Component),oe=Object(u.d)(Object(i.b)((function(e){return{initialized:e.app.initialized}}),ce))(se);s.a.render(Object(N.jsx)(o.a,{children:Object(N.jsx)(i.a,{store:w,children:Object(N.jsx)(oe,{})})}),document.getElementById("root"))},28:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return b}));var a=n(6),r=n.n(a),c=n(9),s=n(3),o=n(35),i=n(13),u=function(e,t,n,a){return{type:"AUTH/SET_USER_DATA",payload:{userId:e,login:t,email:n,isAuth:a}}},l={userId:void 0,login:null,email:null,isAuth:!1,isFetching:!1},f=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a,c,s,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.me();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,c=a.id,s=a.login,o=a.email,t(u(c,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},d=function(e,t,n){return function(){var a=Object(c.a)(r.a.mark((function a(c){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.login(e,t,n);case 2:0===(s=a.sent).data.resultCode?c(f()):s.data.messages.length>0?c(Object(o.a)("login",{_error:s.data.messages[0]})):c(Object(o.a)("login",{_error:"some error"}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},b=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.logout();case 2:0===e.sent.data.resultCode&&t(u(void 0,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_USER_DATA":return Object(s.a)(Object(s.a)({},e),t.payload);default:return e}}},34:function(e,t,n){e.exports={content_wrap:"Content_content_wrap__Kn6n2",top_left:"Content_top_left__2uuqt",bottom_left:"Content_bottom_left__3GXsW",top_center:"Content_top_center__2N_jg"}},48:function(e,t,n){e.exports={head_wrap:"Header_head_wrap__km_0R",left:"Header_left__hL2OA",right:"Header_right__2SPzi"}},55:function(e,t,n){e.exports={settings:"LoginBlock_settings__3c8fJ",bottom:"LoginBlock_bottom__1VoOl"}},58:function(e,t,n){e.exports={main:"Preloader_main__3AVYK",preloader:"Preloader_preloader__3Y4Gy"}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"e",(function(){return p}));var a=n(6),r=n.n(a),c=n(9),s=n(22),o=n(3),i=n(8),u=n(13),l=function(e){return{type:"PROFILE/ADD-POST-FORM",newPostText:e}},f=function(e){return{type:"PROFILE/SET-STATUS",status:e}},d=function(e){return{type:"PROFILE/TOGGLE-IS-FETCHING",isFetching:e}},b={postsData:[{id:Object(i.a)(),name:"VALERA",post:"HERLfdE",likesCount:43},{id:Object(i.a)(),name:"Dimon",post:"HERdsfLfdE",likesCount:421},{id:Object(i.a)(),name:"Kukareku",post:"HEfsdfRLfdE",likesCount:13},{id:Object(i.a)(),name:"Stop",post:"qweHERLfdE",likesCount:5}],newPostText:"",profile:{aboutMe:"aboutMe",contacts:{facebook:"facebook",website:"website",vk:"vk",twitter:"twitter",instagram:"instagram",youtube:"youtube",github:"github",mainLink:"mainLink"},lookingForAJob:!0,lookingForAJobDescription:"lookingForAJobDescription",fullName:"fullName",userId:0,photos:{small:"https://social-network.samuraijs.com/activecontent/images/users/2/user-small.jpg?v=0",large:"https://social-network.samuraijs.com/activecontent/images/users/2/user.jpg?v=0"}},isFetching:!1,status:""},O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(d(!0)),t.next=3,u.b.getProfile(e);case 3:a=t.sent,n(d(!1)),n({type:"PROFILE/SET-USER-PROFILE",profile:a.data});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:a=t.sent,n(f(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.b.updateStatus(t);case 2:0===n.sent.data.resultCode&&u.b.getStatus(e).then((function(e){a(f(e.data))}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE/ADD-POST":var n={id:Object(i.a)(),name:"name",post:e.newPostText,likesCount:0};return Object(o.a)(Object(o.a)({},e),{},{postsData:[].concat(Object(s.a)(e.postsData),[n]),newPostText:""});case"PROFILE/ADD-POST-FORM":var a={id:Object(i.a)(),name:"name",post:t.newPostText,likesCount:0};return Object(o.a)(Object(o.a)({},e),{},{postsData:[].concat(Object(s.a)(e.postsData),[a]),newPostText:""});case"PROFILE/UPDATE-NEW-POST-TEXT":return Object(o.a)(Object(o.a)({},e),{},{newPostText:t.newText});case"PROFILE/SET-USER-PROFILE":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"PROFILE/TOGGLE-IS-FETCHING":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case"PROFILE/SET-STATUS":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"PROFILE/DELETE-POST":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!=t.id}))});default:return e}}},66:function(e,t,n){"use strict";n(0);var a=n.p+"static/media/preloaderNew.64bed448.svg",r=n(58),c=n.n(r),s=n(2);t.a=function(){return Object(s.jsx)("div",{className:c.a.main,children:Object(s.jsx)("img",{src:a,className:c.a.preloader,alt:"preloaderNew"})})}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(22),r=n(3),c=n(8),s=function(e){return{type:"DIALOGS/ADD-MESSAGE-FORM",newMessageText:e}},o={dialogsData:[{id:Object(c.a)(),name:"Dima"},{id:Object(c.a)(),name:"Masha"},{id:Object(c.a)(),name:"Pasha"},{id:Object(c.a)(),name:"Dasha"},{id:Object(c.a)(),name:"Sveta"},{id:Object(c.a)(),name:"SANEK12"}],messagesData:[{id:Object(c.a)(),message:"HERLE1"},{id:Object(c.a)(),message:"MASHA"},{id:Object(c.a)(),message:"VALERCHI PRIYOM"},{id:Object(c.a)(),message:"SUCHARA"},{id:Object(c.a)(),message:"fdsfdf5435s erwtgaa"},{id:Object(c.a)(),message:"eFGSGA DSFDSGA"}],newMessageText:""};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOGS/ADD-MESSAGE":var n={id:Object(c.a)(),message:e.newMessageText};return Object(r.a)(Object(r.a)({},e),{},{messagesData:[].concat(Object(a.a)(e.messagesData),[n]),newMessageText:""});case"DIALOGS/ADD-MESSAGE-FORM":var s={id:Object(c.a)(),message:t.newMessageText};return Object(r.a)(Object(r.a)({},e),{},{messagesData:[].concat(Object(a.a)(e.messagesData),[s]),newMessageText:""});case"DIALOGS/UPDATE-NEW-MESSAGE-TEXT":return Object(r.a)(Object(r.a)({},e),{},{newMessageText:t.newText});default:return e}}},84:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"b",(function(){return m}));var a=n(6),r=n.n(a),c=n(9),s=n(22),o=n(3),i=n(13),u=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(o.a)(Object(o.a)({},e),a):e}))},l=function(e){return{type:"USERS/FOLLOW",userID:e}},f=function(e){return{type:"USERS/UNFOLLOW",userID:e}},d=function(e){return{type:"USERS/SET_CURRENT_PAGE",currentPage:e}},b=function(e){return{type:"USERS/TOGGLE_IS_FETCHING",isFetching:e}},O=function(e,t){return{type:"USERS/TOGGLE_FOLLOWING_PROGRESS",followingProgress:e,userId:t}},j={usersData:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingProgress:[]},p=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(b(!0)),n.next=3,i.c.getUsers(e,t);case 3:c=n.sent,a(b(!1)),a({type:"USERS/SET_USERS",usersData:c.items}),a({type:"USERS/SET_TOTAL_USERS_COUNT",totalUsersCount:c.totalCount});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(c(n)),t(O(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),g=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(n,e,i.c.unfollow.bind(e),f);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h(n,e,i.c.follow.bind(e),l);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS/FOLLOW":return Object(o.a)(Object(o.a)({},e),{},{usersData:u(e.usersData,t.userID,"id",{followed:!0})});case"USERS/UNFOLLOW":return Object(o.a)(Object(o.a)({},e),{},{usersData:u(e.usersData,t.userID,"id",{followed:!1})});case"USERS/SET_USERS":return Object(o.a)(Object(o.a)({},e),{},{usersData:t.usersData});case"USERS/SET_CURRENT_PAGE":return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case"USERS/SET_TOTAL_USERS_COUNT":return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"USERS/TOGGLE_IS_FETCHING":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case"USERS/TOGGLE_FOLLOWING_PROGRESS":return Object(o.a)(Object(o.a)({},e),{},{followingProgress:t.followingProgress?[].concat(Object(s.a)(e.followingProgress),[t.userId]):e.followingProgress.filter((function(e){return e!=t.userId}))});default:return e}}},88:function(e,t,n){e.exports={footer:"Footer_footer__3e76Q"}}},[[226,2,3]]]);
//# sourceMappingURL=main.ac879bbf.chunk.js.map